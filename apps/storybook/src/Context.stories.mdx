import { Meta } from '@storybook/addon-docs';

<Meta title="Context" />

## Context

Children of `VisCanvas` have access to `AxisSystemContext`, which provides helpful utilities to convert vectors from data space to world space and back.
It also exposes the size of the visualization and the axis configs passed to `VisCanvas` for convenience.

Consumers of `AxisSystemContext` re-render **whenever the size of the canvas changes**.

```ts
useAxisSystemContext(): AxisSystemContextValue

const { visSize, dataToWorld, worldToData } = useAxisSystemContext();
```

| Name             | Description                                                                                                        | Type                                                  |
| ---------------- | ------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------- |
| `visSize`        | Visualization size (different from canvas size on ratio-constrained visualizations, like `HeatmapVis`)             | <code>Size</code>                                     |
| `abscissaConfig` | Abscissa configuration object passed to `VisCanvas`                                                                | <code>AxisConfig</code>                               |
| `ordinateConfig` | Ordinate configuration object passed to `VisCanvas`                                                                | <code>AxisConfig</code>                               |
| `abscissaScale`  | Computes the X coordinate in world space of a given abscissa value (or the opposite with `abscissaScale.invert()`) | <code>AxisScale</code>                                |
| `ordinateScale`  | Computes the Y coordinate in world space of a given ordinate value (or the opposite with `ordinateScale.invert()`) | <code>AxisScale</code>                                |
| `dataToWorld`    | Converts a vector from data space to world space (calls `abscissaScale()` and `ordinateScale`)                     | <code>(vec: Vector2 &#124; Vector3) => Vector2</code> |
| `worldToData`    | Converts a vector from world space to data space (calls `abscissaScale.invert()` and `ordinateScale.invert`)       | <code>(vec: Vector2 &#124; Vector3) => Vector2</code> |

> This table is not exhaustive. Please consider any undocumented property as experimental or meant for internal use only.
